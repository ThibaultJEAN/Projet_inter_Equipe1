Version 4
SHEET 1 880 680
WIRE -320 64 -448 64
WIRE -176 64 -320 64
WIRE 64 64 -96 64
WIRE 208 64 64 64
WIRE 368 64 288 64
WIRE 528 64 368 64
WIRE -448 144 -448 64
WIRE -320 144 -320 64
WIRE -160 144 -160 112
WIRE 64 144 64 64
WIRE 368 144 368 64
WIRE 528 144 528 64
WIRE -160 256 -160 224
WIRE -112 256 -112 112
WIRE -112 256 -160 256
WIRE -448 272 -448 224
WIRE -320 272 -320 208
WIRE -112 272 -112 256
WIRE 64 272 64 208
WIRE 368 272 368 208
WIRE 528 272 528 224
FLAG 64 272 0
FLAG 528 272 0
FLAG -320 272 0
FLAG -448 272 0
FLAG -112 272 0
FLAG 368 272 0
FLAG 528 64 OUT
FLAG -448 64 IN
SYMBOL ind 192 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=50m
SYMBOL diode 80 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL res 512 128 R0
SYMATTR InstName Rch
SYMATTR Value {Rch}
SYMBOL sw -80 64 M270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL cap -336 144 R0
SYMATTR InstName Cin
SYMATTR Value 470µ
SYMBOL voltage -160 128 R0
WINDOW 3 -169 216 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(-1 1 0 1p 1p {alpha/Fs} {1/Fs})
SYMATTR InstName V1
SYMBOL voltage -448 128 R0
WINDOW 3 -78 50 Left 2
WINDOW 39 -108 97 Left 2
WINDOW 123 0 0 Left 0
SYMATTR Value {Vin}
SYMATTR SpiceLine Rser=0
SYMATTR InstName Vin
SYMBOL cap 352 144 R0
SYMATTR InstName Cout
SYMATTR Value 470µ
TEXT 328 376 Left 2 !.param Fs=50k alpha=.6 Vin=.75*50
TEXT -560 368 Left 2 !.tran 0 30m 20m
TEXT -368 400 Left 2 !.model MYSW SW(Ron=50m Roff=1Meg Vt=.5 Vh=0.4)
TEXT 336 456 Left 2 !.meas Pin AVG -V(IN)*I(Vin)\n.meas Pout AVG V(OUT)*I(Rch)\n.meas Eff param Pout/Pin
TEXT 336 424 Left 2 !.meas Irms RMS I(L1)
TEXT 344 544 Left 2 !.step param Rch list 10 5 4  2.5
TEXT 344 400 Left 2 !.meas Vout AVG V(out)
